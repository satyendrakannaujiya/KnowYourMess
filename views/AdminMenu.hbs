<!DOCTYPE html>
<!DOCTYPE html>
<html>
    {{>header}}
<body>
    <div class="wrapper">
        <div class="main-panel" style="width: 100%;">
            {{>nav}}
            <div class="content">
                <div class="row justify-content-center">
                    <div class="col-xm-12 col-sm-12 col-md-8 col-lg-8 ">
                                <nav class="navbar navbar-expand-lg bg-primary">
                                  <div class="container">
                                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="navbar-toggler-bar navbar-kebab"></span>
                                    <span class="navbar-toggler-bar navbar-kebab"></span>
                                    <span class="navbar-toggler-bar navbar-kebab"></span>
                                    </button>
                                    <div class="collapse navbar-collapse" id="navbarNav">
                                      <ul class="navbar-nav">
                                        <li class="nav-item">
                                          <a  href='#' class="nav-link" onclick="tabNotification()">Notifications </a>
                                        </li>
                                       <li class="nav-item">
                                          <a href='#' class="nav-link" onclick="tabMessMember()">Mess Member</a>
                                        </li>
                                        <li class="nav-item">
                                          <a class="nav-link" href="#" onclick="tabHostel()">Hostels</a>
                                        </li>
                                      </ul>
                                    </div>
                                  </div>
                                </nav>
                                <div id="messMember" style="display:none" animated fadeInDown>
                                    <div class="row justify-content-center">
                                        <div class="card">
                                            <div class="card-header card-header-info">
                                                <a href="/EditHostel?hid={{hostelId}}" data-toggle="modal" data-target="#addUserModel">
                                                    <h4><i class="card-title now-ui-icons users_single-02">
                                            Add Member</i></h4>
                                                </a>
                                            </div>
                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table">
                                                        <thead class="text-primary">
                                                            <th>Name</th>
                                                            <th>Hostel</th>
                                                            <th>Options</th>
                                                        </thead>
                                                        <tbody>
                                                            {{#each userList}}
                                                            <tr>
                                                                <td class="text-left">{{name}}</td>
                                                                <td class="text-left">{{hostel}}</td>
                                                                <td class="text-left"><a class="open-EditModal" href="/EditHostel?hid={{hostelId}}" data-toggle="modal" data-target="#editUserModel" onclick="sendData('{{uid}}')">Edit</a> <a href="#">Delete</a></td>
                                                            </tr>
                                                            {{/each}}
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>



                                <div style="align-items: center;" id="notification" class=" animated fadeIn" >
                                    <div class="row justify-content-center">
                                            <div class="card col-xm-12 col-sm-12 col-md-11 col-lg-11">
                                                <div class="card-header">
                                                    <h4 class="card-title">Notifications</h4>
                                                </div>
                                                <div id="notifications" class="tabcontent">
                                                  <form action="/addNotification" method="post">
                                                        <p>Title:</p>
                                                        <input type="text" name="notificationTitle" class="form-control" placeholder="Title" maxlength="40"> 
                                                        <p>Notification</p>
                                                        <textarea class="form-control" name="notificationText" placeholder="Enter Notification to send here" maxlength="160"></textarea>
                                                         <button class="form-control btn btn-primary" type="submit" style="margin-top: 8px;">Add</button>
                                                  </form>
                                                </div>
                                        </div>
                                     </div>
                                 </div>



                            <div id="hostel", class="tabcontent animated fadeIn"  style="display:none;width: 100%;height: 700px;">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4 class="card-title">Add Hostel</h4>
                                        </div>
                                        <div class="card-body">
                                            <form  action="/create_hostel" method="post" encType="multipart/form-data">
                                                <div align="center">
                                                    <input type="file" class="col-lg-3 col-md-3 col-sm-3 col-xm-1" style="margin-top: 5px;" name="image" required>
                                            </div>
                                            <b>Hostel Name</b><input type="text" class="form-control" placeholder="Enter Name" name="name" required><br>
                                            <b>Hostel Description</b><input type="text" class="form-control" placeholder="Hostel Description" name="description" required><br>
                                            <br><b>Per Day expenditure</b>
                                            <input type="number" class="form-control" placeholder="Enter pde" value="0" name="pde" required><br>
                                            <button type="submit" class="form-control btn btn-primary shadow">Submit</button>
                                            </form>
                                        </div>
                                    </div>
                            </div>


                        </div>
                </div>
            </div>
        </div>
    </div>
    <script>
           
            function sendData(uid){
                      document.getElementById("uid").value=uid;

            }
           


        var noti=document.getElementById("notification");
        var member=document.getElementById("hostel");
        var mess=document.getElementById("messMember");
        var edit_menu = document.getElementById("edit_menu");
        var view_menu = document.getElementById("view_menu");
        function msg4(){
            if(edit_menu.style.display == 'none'){
                view_menu.style.display='none';
                edit_menu.style.display='block';
            }
            else
                edit_menu.style.display='block';
        }
        function tabMessMember() {

        
        if(mess.style.display =='none'){
                mess.style.display="block";
                member.style.display='none';
                noti.style.display='none';
           
            }else{
            
                mess.style.display="block";
                
            }
        }
        
        
                function tabNotification() {
        
          
                  //  var noti = document.getElementById("notification");
            
            if(noti.style.display =='none'){
                noti.style.display="block";
                member.style.display='none';
                mess.style.display='none';
           
            }else{
            
                noti.style.display="block";
                
            }
        }
        
        function tabHostel() {
            if(member.style.display =='none'){
                member.style.display="block";
                noti.style.display="none";
                mess.style.display='none';
           
            }else{
            
                member.style.display="block";
                
            }
        }
        </script>
        {{>footer}}
        <!-- Modal -->
        <div class="modal fade" id='addUserModel' tabindex="-1" role="dialog" aria-labelledby="addUserModelLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="addUserModelLabel">Add New User</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
                    <form method="post" action="/create_user">
                        <div class="modal-body">
                            <b>User ID</b><br>
                            <input name="uid" type="text" class="form-control"  placeholder="User ID must be unique">
                            <br>
                            <b>Name</b><br>
                            <input name="name" type="text" class="form-control"  placeholder="User ID must be unique">
                            <br>
                            <b>Password</b>
                            <br>
                            <input name="password" type="text" class="form-control"  placeholder="Enter a default password">
                            <br>
                            <input type="text" name="contact" class="form-control" placeholder="Enter contact number">
                            <br>
                            <select class ="custom-select mb-2 mr-sm-2 mb-sm-0" name="hostel_id">
                                {{#each hostelList}}
                                    <option value="{{hid}}">{{name}}</option>
                                {{/each}}
                            </select>
                            <input type="hidden" name="facebook" value="http://www.facebook.com">
                            <input type="hidden" name="twitter" value="http://www.twitter.com">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Add User</button>
                        </div>
                    </form>
            </div>
          </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="editUserModel" tabindex="-1" role="dialog" aria-labelledby="editUserModelLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="editUserModelLabel">Edit User</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
                    <form method="post" action="/reset_password">
                        <div class="modal-body">
                            <b>New Password: </b><br>
                            <input name="password" type="text" class="form-control"  placeholder="Enter the new password" >
                            <input type="hidden" name="uid" value="" id="uid">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="submit" class="btn btn-primary">Reset Password</button>
                        </div>
                    </form>
            </div>
          </div>
        </div>

    </body>
  <script type="text/javascript">
    function openTab(evt, tabName) {
    // Declare all variables
      var i, tabcontent, tablinks;
      // Get all elements with class="tabcontent" and hide them
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      // Get all elements with class="tablinks" and remove the class "active"
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      // Show the current tab, and add an "active" class to the button that opened the tab
      document.getElementById(tabName).style.display = "block";
      evt.currentTarget.className += " active";
    }
  </script>
</html>